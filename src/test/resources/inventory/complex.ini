[lb]
lb1.example.com ansible_host=10.0.1.10 keepalived_priority=100
lb2.example.com ansible_host=10.0.1.11 keepalived_priority=90

[web-app1]
app1-web1.example.com ansible_host=10.0.2.10
app1-web2.example.com ansible_host=10.0.2.11

[web-app2]
app2-web1.example.com ansible_host=10.0.2.20
app2-web2.example.com ansible_host=10.0.2.21

[web:children]
web-app1
web-app2

[web:vars]
nginx_worker_processes=auto
nginx_worker_connections=1024

[db-primary]
db-primary.example.com ansible_host=10.0.3.10 postgres_role=primary

[db-replica]
db-replica1.example.com ansible_host=10.0.3.11 postgres_role=replica
db-replica2.example.com ansible_host=10.0.3.12 postgres_role=replica

[db:children]
db-primary
db-replica

[db:vars]
postgres_version=14
postgres_max_connections=200

[cache]
redis1.example.com ansible_host=10.0.4.10 redis_port=6379
redis2.example.com ansible_host=10.0.4.11 redis_port=6379

[monitoring]
prometheus.example.com ansible_host=10.0.5.10
grafana.example.com ansible_host=10.0.5.11

[production:children]
lb
web
db
cache

[production:vars]
environment=production
datacenter=us-east-1

[infrastructure:children]
production
monitoring

[all:vars]
ansible_user=ansible
ansible_ssh_private_key_file=~/.ssh/ansible_key
ansible_python_interpreter=/usr/bin/python3